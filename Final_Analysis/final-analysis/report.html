<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Abdullah, Bogdan, Collin, Jeb">
<meta name="dcterms.date" content="2025-12-07">

<title>Final Analysis for RFIDinMe</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#survey-design" id="toc-survey-design" class="nav-link" data-scroll-target="#survey-design">Survey Design</a>
  <ul class="collapse">
  <li><a href="#final-survey-layout" id="toc-final-survey-layout" class="nav-link" data-scroll-target="#final-survey-layout">Final Survey Layout</a></li>
  <li><a href="#differences-from-the-pilot" id="toc-differences-from-the-pilot" class="nav-link" data-scroll-target="#differences-from-the-pilot">Differences from the Pilot</a></li>
  </ul></li>
  <li><a href="#data-analysis" id="toc-data-analysis" class="nav-link" data-scroll-target="#data-analysis">Data Analysis</a>
  <ul class="collapse">
  <li><a href="#sample-description" id="toc-sample-description" class="nav-link" data-scroll-target="#sample-description">Sample Description</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data Cleaning</a></li>
  <li><a href="#modelling" id="toc-modelling" class="nav-link" data-scroll-target="#modelling">Modelling</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#willingness-to-pay" id="toc-willingness-to-pay" class="nav-link" data-scroll-target="#willingness-to-pay">Willingness to Pay</a></li>
  <li><a href="#market-scenario" id="toc-market-scenario" class="nav-link" data-scroll-target="#market-scenario">Market Scenario</a></li>
  <li><a href="#sensitivity-analysis" id="toc-sensitivity-analysis" class="nav-link" data-scroll-target="#sensitivity-analysis">Sensitivity Analysis</a></li>
  </ul></li>
  <li><a href="#final-recommendations-and-conclusions" id="toc-final-recommendations-and-conclusions" class="nav-link" data-scroll-target="#final-recommendations-and-conclusions">Final Recommendations and Conclusions</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Analysis for RFIDinMe</h1>
<p class="subtitle lead">Investigating the use of alternate RFID devices</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Abdullah, Bogdan, Collin, Jeb </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 7, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>Radio-frequency identification (RFID) technology is increasingly integrated into tap access systems, contactless payments, and modern security applications. This study evaluates which design attributes would make a consolidated RFID device most appealing to consumers. The proposed product would store multiple RFID credentials, such as key fobs, ID cards, and payment cards, within a single device. Key attributes examined included physical form factor (card, ring, bracelet, or implant), price, operating-system compatibility (iOS, Android, or both), read range, and tag capacity. An analysis of user preferences revealed several dominant trends. Participants strongly favored the lower-priced options and showed the highest preference for a ring-style device. Tag capacity had the greatest positive influence on utility, and iOS compatibility was consistently preferred over Android or dual-system options. Based on these results, the optimal market offering is a ring-form RFID device with high tag capacity, extended read range, and iOS compatibility.</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Currently, RFID devices are becoming ever more prevalent in common day use. As students, your ID card allows you to tap into buildings at will. For commuters, a simple tap and your fare is paid for. In this case study, our team aimed to create an RFID device that met consumer needs by providing a vast array of attributes to choose from. A wildcard sub attribute of choice was also added, which was the addition of implantable RFID devices.</p>
<p>These types of devices are small, non-toxic, pill-shaped devices that can be self-implanted into your hand and can act as a conventional RFID device as described above. This is commonly known as Bio-Hacking, and an X-ray of this can be seen below in Figure 1, showing a pill-like device implanted in the hand of an individual.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ImplantNew.jpg" class="img-fluid figure-img" width="238"></p>
<figcaption>Figure 1 shows an example of an implantable RFID device</figcaption>
</figure>
</div>
<p>Further attributes for this survey are things such as price, compatibility, capacity, and range, which will be discussed further in the survey design section of this survey.</p>
</section>
<section id="survey-design" class="level1">
<h1>Survey Design</h1>
<section id="final-survey-layout" class="level2">
<h2 class="anchored" data-anchor-id="final-survey-layout">Final Survey Layout</h2>
<p>Our survey was split into three major components:</p>
<ol type="1">
<li><p><strong>Survey Introduction</strong></p>
<p>This portion of the survey filtered out respondents under the age of 18 and informed individuals if they weren’t already knowledgeable about this field of devices, using a hidden page that described what the devices are and how many people already use them in the real world.</p></li>
<li><p><strong>Survey Questions</strong></p>
<p>Here, respondents were asked 6 questions pulled from our choice design. Each of which has three options, which contain in itself 5 major attributes: The Type of Device, Price, Compatibility, Tag capacity, and the range of the device. The levels of each attribute can be found in the table below:</p></li>
<li><p><strong>Survey Demographics</strong></p>
<p>After completing all survey content, users are asked to complete certain questions about their demographics, such as year and gender. Other things, such as survey feedback, we’re also asked, but are not crucial to the analysis.</p></li>
</ol>
<table class="caption-top table">
<caption>List of Final Survey Attributes</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 50%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Attribute Name</th>
<th style="text-align: center;">Levels</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Device Type</td>
<td style="text-align: center;">Card, Ring, Bracelet, Implantable</td>
<td>N/A</td>
</tr>
<tr class="even">
<td style="text-align: center;">Price</td>
<td style="text-align: center;">$25, $50, $75</td>
<td>USD</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Compatibility</td>
<td style="text-align: center;">iOS, Android, Both</td>
<td>Operating System</td>
</tr>
<tr class="even">
<td style="text-align: center;">Tag Capacity</td>
<td style="text-align: center;">1, 3, 5</td>
<td>kilobytes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Device Range</td>
<td style="text-align: center;">1, 3, 5</td>
<td>ft</td>
</tr>
</tbody>
</table>
</section>
<section id="differences-from-the-pilot" class="level2">
<h2 class="anchored" data-anchor-id="differences-from-the-pilot">Differences from the Pilot</h2>
<p>Large differences came from the number of weed-out questions, where now the survey only contains the age verification question. Another major difference is the lack of images within the survey, but this has now been populated with images accurately depicting the available options. See Appendix 9 for an example of this.</p>
</section>
</section>
<section id="data-analysis" class="level1">
<h1>Data Analysis</h1>
<p>In this section, the team will detail the analysis conducted on our final data.</p>
<section id="sample-description" class="level2">
<h2 class="anchored" data-anchor-id="sample-description">Sample Description</h2>
<p>Our total number of respondents ended up being 226. To each of those 226 respondents, we asked 6 choice questions and received a total of 1,281 responses. The following table shows a breakdown of different demographic questions we asked on our survey.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 28%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Average_Age</th>
<th style="text-align: right;">Percent_Men</th>
<th style="text-align: right;">Percent_Women</th>
<th style="text-align: right;">Percent_Afraid_of_Needles</th>
<th style="text-align: right;">Percent_Familiar_with_RFID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">38</td>
<td style="text-align: right;">49.11</td>
<td style="text-align: right;">50.89</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">85.84</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<p>Data was cleaned by first computing the time values for the survey. Next, we filtered out the bad responses, like respondents who did not complete all of their questions, or respondents who did not respond to all of the choice questions. Then we removed respondents who went through the survey too fast, put the data into “long” format, added values for the respondent and observer identifier, and put the ID variables up front. After this, we had 210 respondents remaining.</p>
</section>
<section id="modelling" class="level2">
<h2 class="anchored" data-anchor-id="modelling">Modelling</h2>
<p>Modelling is where our team began running into issues. One thing to look out for in logit models is whether or not respondents preferred a product if it cost more. Since this is generally not how consumers make decisions, if price has a positive beta coefficient, the entire population’s data is suspect. After running the model, we found that our real data had a positive beta coefficient. Below is our real data’s utility model:</p>
<p><span class="math inline">\(u_{j} = 0.0027x_{j}^{price} - 0.0315x_{j}^{capacity} + 0.2463x_{j}^{range} - 0.1234\delta_{j}^{typeRing} - 0.0281\delta_{j}^{typeImplant} - 0.0761\delta_{j}^{typeCard}\)</span> <span class="math inline">\(- 0.0214\delta_{j}^{compatabilityAndroid} +  0.0868\delta_{j}^{compatabilityiOS}\)</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Model Coefficients</caption>
<colgroup>
<col style="width: 28%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 25%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Estimate</th>
<th style="text-align: right;">Std. Error</th>
<th style="text-align: right;">z-value</th>
<th style="text-align: right;">Pr(&gt;|z|)</th>
<th style="text-align: center;">Sig</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">0.0026587</td>
<td style="text-align: right;">0.0011029</td>
<td style="text-align: right;">2.4106</td>
<td style="text-align: right;">0.015925</td>
<td style="text-align: center;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">capacity</td>
<td style="text-align: right;">-0.0315492</td>
<td style="text-align: right;">0.0208764</td>
<td style="text-align: right;">-1.5112</td>
<td style="text-align: right;">0.130729</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">range</td>
<td style="text-align: right;">0.2463251</td>
<td style="text-align: right;">0.0929895</td>
<td style="text-align: right;">2.6490</td>
<td style="text-align: right;">0.008074</td>
<td style="text-align: center;">**</td>
</tr>
<tr class="even">
<td style="text-align: left;">type_ring</td>
<td style="text-align: right;">-0.1234112</td>
<td style="text-align: right;">0.0974554</td>
<td style="text-align: right;">-1.2663</td>
<td style="text-align: right;">0.205393</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">type_implantable</td>
<td style="text-align: right;">-0.0281179</td>
<td style="text-align: right;">0.0968137</td>
<td style="text-align: right;">-0.2904</td>
<td style="text-align: right;">0.771485</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">type_card</td>
<td style="text-align: right;">-0.0761160</td>
<td style="text-align: right;">0.0946994</td>
<td style="text-align: right;">-0.8038</td>
<td style="text-align: right;">0.421533</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">compatability_android</td>
<td style="text-align: right;">-0.0214399</td>
<td style="text-align: right;">0.0829076</td>
<td style="text-align: right;">-0.2586</td>
<td style="text-align: right;">0.795944</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">compatabilityi_os</td>
<td style="text-align: right;">0.0868401</td>
<td style="text-align: right;">0.0848465</td>
<td style="text-align: right;">1.0235</td>
<td style="text-align: right;">0.306073</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>To combat this, we decided to simulate a model with reasonable priors and work from there. Below is the baseline model we used for this project:</p>
<p><span class="math inline">\(u_{j} = -0.5047x_{j}^{price} + 1.66915x_{j}^{capacity} + 1.0040x_{j}^{range} + 0.9881\delta_{j}^{typeRing} - 1.0987\delta_{j}^{typeBracelet} - 1.9183\delta_{j}^{typeImplant}\)</span> <span class="math inline">\(- 3.5868\delta_{j}^{compatabilityAndroid}-  1.3692\delta_{j}^{compatabilityBoth}\)</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Model Coefficients</caption>
<colgroup>
<col style="width: 28%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 25%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Estimate</th>
<th style="text-align: right;">Std. Error</th>
<th style="text-align: right;">z-value</th>
<th style="text-align: right;">Pr(&gt;|z|)</th>
<th style="text-align: center;">Sig</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">-0.504721</td>
<td style="text-align: right;">0.045138</td>
<td style="text-align: right;">-11.1817</td>
<td style="text-align: right;">&lt; 2.2e-16</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">capacity</td>
<td style="text-align: right;">1.669097</td>
<td style="text-align: right;">0.151638</td>
<td style="text-align: right;">11.0071</td>
<td style="text-align: right;">&lt; 2.2e-16</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">range</td>
<td style="text-align: right;">1.003991</td>
<td style="text-align: right;">0.104840</td>
<td style="text-align: right;">9.5764</td>
<td style="text-align: right;">&lt; 2.2e-16</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">type_ring</td>
<td style="text-align: right;">0.988098</td>
<td style="text-align: right;">0.277163</td>
<td style="text-align: right;">3.5650</td>
<td style="text-align: right;">0.0003638</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">type_bracelet</td>
<td style="text-align: right;">-1.098712</td>
<td style="text-align: right;">0.291453</td>
<td style="text-align: right;">-3.7698</td>
<td style="text-align: right;">0.0001634</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">type_implant</td>
<td style="text-align: right;">-1.918279</td>
<td style="text-align: right;">0.319947</td>
<td style="text-align: right;">-5.9956</td>
<td style="text-align: right;">2.027e-09</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">compatability_android</td>
<td style="text-align: right;">-3.586827</td>
<td style="text-align: right;">0.383914</td>
<td style="text-align: right;">-9.3428</td>
<td style="text-align: right;">&lt; 2.2e-16</td>
<td style="text-align: center;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">compatability_both</td>
<td style="text-align: right;">-1.369225</td>
<td style="text-align: right;">0.255018</td>
<td style="text-align: right;">-5.3691</td>
<td style="text-align: right;">7.912e-08</td>
<td style="text-align: center;">***</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Below, please see a record of the priors used to create this model:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Prior Coefficients</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Level</th>
<th style="text-align: right;">Prior Coefficient</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">Continuous</td>
<td style="text-align: right;">-0.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Ring</td>
<td style="text-align: right;">2.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Bracelet</td>
<td style="text-align: right;">1.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Implant</td>
<td style="text-align: right;">-0.75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">type</td>
<td style="text-align: left;">Card (ref)</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">compatability</td>
<td style="text-align: left;">Android</td>
<td style="text-align: right;">-2.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">compatability</td>
<td style="text-align: left;">Both</td>
<td style="text-align: right;">1.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">compatability</td>
<td style="text-align: left;">iOS (ref)</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">capacity</td>
<td style="text-align: left;">Continuous</td>
<td style="text-align: right;">1.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">Continuous</td>
<td style="text-align: right;">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD In this section, our team will go over the results from our study.</p>
<section id="willingness-to-pay" class="level2">
<h2 class="anchored" data-anchor-id="willingness-to-pay">Willingness to Pay</h2>
<p>Willingness to pay describes how important different features of product are by showing how willing a customer is to pay for a specific version of that feature. Below are four charts detailing how willing to pay our simulated customer base is for our four main attributes (not including price): the range of the RFID device, the capacity of the RFID device, the type of device, and what operating system the device can operate with.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/plot_mnl_wtp.jpeg" class="img-fluid figure-img"></p>
<figcaption>Willingness to Pay</figcaption>
</figure>
</div>
<p>There are two types of attributes on the plots above: continuous and discrete. The continuous variables, on top, show a linear relationship with how much a customer is willing to pay and the increase in performance. In this case, performance is measured by the range at which the RFID device can operate and how much data it can store. The discrete variables, the type of device and operating system, tell a slightly different story. The “card” and “iOS” options for type and OS respectively are the baseline choices. Any type or OS above the baseline is preferred to it and vice versa. Here, we see that a ring RFID type with iOS compatibility would be the most heavily preferred combination.</p>
<p>Overall, our simulated customer base is much more willing to pay for device performance than type or operating system compatibility.</p>
</section>
<section id="market-scenario" class="level2">
<h2 class="anchored" data-anchor-id="market-scenario">Market Scenario</h2>
<p>The below table shows our baseline for our market scenario.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Baseline Scenario for Market Simulation</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 6%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Alt ID</th>
<th style="text-align: center;">Obs ID</th>
<th style="text-align: right;">Price</th>
<th style="text-align: right;">Range</th>
<th style="text-align: right;">Capacity</th>
<th style="text-align: center;">Ring</th>
<th style="text-align: center;">Bracelet</th>
<th style="text-align: center;">Implant</th>
<th style="text-align: center;">Android</th>
<th style="text-align: center;">Both</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">JAKCOM Ring</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">Fobster Bracelet</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">RFIDinMe</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">Jiaxing Card</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>All RFID devices typically have a short range to prevent theft. Price justifications for most of the competitors was found on Amazon, links are below:</p>
<p><a href="https://www.amazon.com/JAKCOM-Intelligent-Wearable-Functions-Technology/dp/B0FD86T2BG/ref=sr_1_15?dib=eyJ2IjoiMSJ9.q_qfNyJ0ZGNMoPzwdThi_E39yG5ljGQIrHY8JuiWLPD3nqPsjvujtjEv2smC8GkcW5IWrKQGl-FvoCAt175Pmo2kJ-sIPqxFLrglnxCalbw7swGzWwV26HURTNZRV0ppYeAzTI4sYXdDfbZS0iwa87szCT1Qx_uxZPumFePCzy0kHFbZxF1DBv4KqkoA9fpiRL2CRjn6NN6oxfJeEdI8ltpygh5gHopm6Q30m-F_Mio.uT5C8wUvr6vRouYtXa8_Bge30UbQmfqHQs7oPK8gHaY&amp;dib_tag=se&amp;keywords=rfid%2Bring&amp;qid=1765165129&amp;sr=8-15&amp;th=1" target="_blank">JAKCOM</a></p>
<p><a href="https://www.amazon.com/Contactless-Rewritable-Proximity-Clamshell-Compatible/dp/B088WC7S35/ref=sr_1_3?dib=eyJ2IjoiMSJ9.RRLV13xbqA2g_XB5nXt-_xP8n8mjAh34Me46aJ69hwAmpEV_4SKirq4IGSexZ-Ah5b83eEPl39TjGdL3xTmEmC65OaZ9MMarhfgZAysCrcwZtiBpc4ClAteK5rr1Mft5NMI_kjI3zgA4JKAM8p-L6DPIwPa7ZQxwgvQ1Y5-X3Z8iN0kduDhJwbhJns64oHpOcN6SC2V0IuA2aojPpMib2Wc3by5cUYx9Cz5vEIcxRrZT7lzA9Herykb131HNaBSRFLXRjrLkaeER3Z4nOoWuwB4g9H-tfzVOaeRCfkvj9YY.tr3nvJbAMziEy6Tf6SOU4_If2-Sy8S74P2Z0cO6PcBk&amp;dib_tag=se&amp;keywords=rfid%2Bcard&amp;qid=1765164801&amp;sr=8-3&amp;th=1" target="_blank">Jiaxing</a></p>
<p><a href="https://www.amazon.com/Fobster-Bracelet-Keyfob-Wristband-Patented/dp/B097PVSRJ6/ref=sr_1_1_sspa?crid=1Z3JK10M567ZX&amp;dib=eyJ2IjoiMSJ9.tvGMexFwcSGW9YfkK2SqweCmBgisLrShUau-ILOeXUynV4KGGVNNF8JT0qKD7GpzdI_9Yqu_um9dy6Y0PcAtz6tjvzXWVkFtqNFF8wnpReOz6TmZ6Vgri7rfRTecTWOESIsdGgObiit5Dzb3wyjvtRhm6PPb4cUY6sr3GgeJayF8oaVxGc31BmE2TB3TyW3xO3n6DD_Y1locTyNU-FqpbEvw38i1pV0gSE56lyQkVlA.HdwmVjjBdBOBf2bIbhXsexUp4-lqEN7Ki4V-Kxnywj4&amp;dib_tag=se&amp;keywords=rfid+wristband&amp;qid=1765164928&amp;sprefix=rfid+wristban%2Caps%2C150&amp;sr=8-1-spons&amp;sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&amp;psc=11" target="_blank">Fobster</a></p>
<p><a href="https://dangerousthings.com/product/xslx/" target="_blank">Implant Price</a></p>
<p>Our market share below illustrates that even with a high capacity and competitive price, RFIDinMe would only obtain market share of about 10%.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/sim_mnl.jpeg" class="img-fluid figure-img"></p>
<figcaption>Market Share</figcaption>
</figure>
</div>
<p>We would argue that while there is potential for implant RFID devices to enter the market, expecting them to generate a large market share is optimistic. Cheap and pain free alternatives like rings are much easier to market and not nearly as scary. We believe that to improve product adoption, we would have to greatly increase the storage capacity of RFIDinMe. RFIDinMe would have to be a one-tool-fits-all resource in the RFID market.</p>
</section>
<section id="sensitivity-analysis" class="level2">
<h2 class="anchored" data-anchor-id="sensitivity-analysis">Sensitivity Analysis</h2>
<p>The following table shows products sensitivity to price.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Price Sensitivity Analysis</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Price ($)</th>
<th style="text-align: right;">Market Share</th>
<th style="text-align: right;">Lower 95% CI</th>
<th style="text-align: right;">Upper 95% CI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.995</td>
<td style="text-align: right;">0.984</td>
<td style="text-align: right;">0.998</td>
</tr>
<tr class="even">
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.992</td>
<td style="text-align: right;">0.975</td>
<td style="text-align: right;">0.997</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.986</td>
<td style="text-align: right;">0.963</td>
<td style="text-align: right;">0.995</td>
</tr>
<tr class="even">
<td style="text-align: right;">13</td>
<td style="text-align: right;">0.978</td>
<td style="text-align: right;">0.943</td>
<td style="text-align: right;">0.991</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14</td>
<td style="text-align: right;">0.964</td>
<td style="text-align: right;">0.914</td>
<td style="text-align: right;">0.985</td>
</tr>
<tr class="even">
<td style="text-align: right;">15</td>
<td style="text-align: right;">0.941</td>
<td style="text-align: right;">0.872</td>
<td style="text-align: right;">0.973</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.906</td>
<td style="text-align: right;">0.813</td>
<td style="text-align: right;">0.954</td>
</tr>
<tr class="even">
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.854</td>
<td style="text-align: right;">0.734</td>
<td style="text-align: right;">0.923</td>
</tr>
<tr class="odd">
<td style="text-align: right;">18</td>
<td style="text-align: right;">0.779</td>
<td style="text-align: right;">0.635</td>
<td style="text-align: right;">0.874</td>
</tr>
<tr class="even">
<td style="text-align: right;">19</td>
<td style="text-align: right;">0.680</td>
<td style="text-align: right;">0.520</td>
<td style="text-align: right;">0.802</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.562</td>
<td style="text-align: right;">0.403</td>
<td style="text-align: right;">0.703</td>
</tr>
<tr class="even">
<td style="text-align: right;">21</td>
<td style="text-align: right;">0.437</td>
<td style="text-align: right;">0.292</td>
<td style="text-align: right;">0.585</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22</td>
<td style="text-align: right;">0.319</td>
<td style="text-align: right;">0.199</td>
<td style="text-align: right;">0.460</td>
</tr>
<tr class="even">
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.220</td>
<td style="text-align: right;">0.129</td>
<td style="text-align: right;">0.343</td>
</tr>
<tr class="odd">
<td style="text-align: right;">24</td>
<td style="text-align: right;">0.146</td>
<td style="text-align: right;">0.080</td>
<td style="text-align: right;">0.246</td>
</tr>
<tr class="even">
<td style="text-align: right;">25</td>
<td style="text-align: right;">0.093</td>
<td style="text-align: right;">0.048</td>
<td style="text-align: right;">0.169</td>
</tr>
<tr class="odd">
<td style="text-align: right;">26</td>
<td style="text-align: right;">0.059</td>
<td style="text-align: right;">0.028</td>
<td style="text-align: right;">0.114</td>
</tr>
<tr class="even">
<td style="text-align: right;">27</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.016</td>
<td style="text-align: right;">0.076</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28</td>
<td style="text-align: right;">0.022</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.049</td>
</tr>
<tr class="even">
<td style="text-align: right;">29</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.032</td>
</tr>
<tr class="odd">
<td style="text-align: right;">30</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.003</td>
<td style="text-align: right;">0.021</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>This table illustrates a shift in probability from nearly 100% market share at a price of $10 and practically 0% at $30.</p>
<p>Below is a table illustrating sensitivity of the other attributes:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Attribute Sensitivity Analysis</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Case</th>
<th style="text-align: right;">Value</th>
<th style="text-align: right;">Market Share</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">other</td>
<td style="text-align: left;">base</td>
<td style="text-align: right;">—</td>
<td style="text-align: right;">0.0934</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">high</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.9064</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">low</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0.1458</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">high</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">0.2959</td>
</tr>
<tr class="odd">
<td style="text-align: left;">range</td>
<td style="text-align: left;">low</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">0.1584</td>
</tr>
<tr class="even">
<td style="text-align: left;">capacity</td>
<td style="text-align: left;">high</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">0.0004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">capacity</td>
<td style="text-align: left;">low</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">0.0013</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The market share of our device is most sensitive to price, with a high-low difference of ~75%, followed by range (~14%) and capacity (0.09%). Below is a tornado plot illustrating this pheonomenon.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tornado.jpeg" class="img-fluid figure-img"></p>
<figcaption>Market Share</figcaption>
</figure>
</div>
</section>
</section>
<section id="final-recommendations-and-conclusions" class="level1">
<h1>Final Recommendations and Conclusions</h1>
<p>The proposed RFID implant was evaluated against alternative form factors using simulated preference data. The results indicate that the implant is unlikely to be competitive in the consumer market. The implant received the lowest estimated utility of all form types, while the ring was the only form factor with a positive beta. Consumers placed substantial value on storage capacity far more than on price, which suggests that competitiveness for any device, including an implant, relies heavily on the number of RFID tags it can store. Based on the magnitude of the negative form-factor beta, the implant would require either extremely high capacity or an unusually low price to be competitive with the ring option.</p>
<p>Several uncertainties constrain confidence in profitability estimates. The most significant is the true upper limit on the device’s capacity; capacity had the largest positive beta in the model, meaning that even moderate increases could meaningfully shift demand. In addition, the underlying dataset showed an unexpected positive beta on price, indicating either a respondent misunderstanding, a desire to avoid the implant by selecting higher-priced alternatives, or a correlation between price and perceived storage. These inconsistencies reduce confidence in the stability of the estimates and suggest that real-world data collection will be required before high-stakes decisions are made.</p>
<p>The strongest recommendation is to abandon the implant form factor and instead pursue development of a ring-based RFID device. A ring design is the only option with robust positive consumer preference. The device should prioritize high storage capacity, and the pricing should fall in the medium-to-low range to avoid eroding utility, though demand appears substantially more sensitive to capacity than to price. These recommendations are moderately robust, as they are supported by large differences in utility between form factors; however, true robustness cannot be confirmed until non-simulated data are collected.</p>
<p>The most promising opportunity to increase demand is to maximize the device’s storage capacity, as this attribute overwhelmingly dominated all others in the model. Additional opportunities include optimizing comfort and ‘wearability’ through the ring form factor and ensuring compatibility with major operating systems to broaden the potential user base. Together, these strategies offer the clearest path toward market success for the product.</p>
</section>
<section id="limitations" class="level1">
<h1>Limitations</h1>
<p>The primary limitation of this project was the lack of real data. All data was simulated and inputs from real survey respondents were not included. We would recommend, if further research was to be done, increasing the budget of the survey so as to improve the quality of respondents. This would be dependent on the interest of further researchers.</p>
<p>There are several unknowns that could impact our findings as well. There are plenty of regulatory gray areas that could inhibit the market adoption of implantable RFID technology. Additionally, there are more factors we could have included. For example, RFID operates on specific wavelengths, and we did not include any of those.</p>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<p>This appendix is split into 11 sections, representing each page of the conjoint survey, including ONE conjoint question out of the 6.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page1.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 1 shows the survey introduction page</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page2.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 2 Shows survey consent pages where our one and only screenout question is located</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page3.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 3 Asks about familiarity with RFID technology</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page4.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 4 If selecting no to Appendix 3 you are taken to this page</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page5.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 5 Is listed as a screening question but is not</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page6.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 6 This question is for grouping as it allows to see if people not afraid of needles are more open to the idea of implantables</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page7.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 7 is the educational page regarding the parameters of the conjoin questions</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page8.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 8 Is the introduction preparing users for the next round of questions</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page9.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 9 Shows an example of a conjoint question</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page10.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 10 Is the demographics page asking about age and gender</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Page11.jpeg" class="img-fluid figure-img"></p>
<figcaption>Appendix 11 is the end page for the survey</figcaption>
</figure>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>